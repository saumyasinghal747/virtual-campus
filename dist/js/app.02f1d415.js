(function(t){function e(e){for(var n,a,s=e[0],l=e[1],c=e[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,a=1;a<o.length;a++){var s=o[a];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=l(l.s=o[0]))}return t}var n={},a={app:0},r={app:0},i=[];function s(t){return l.p+"js/"+({about:"about",login:"login",settings:"settings"}[t]||t)+"."+{about:"c357c765",login:"e75d866b",settings:"db9a212e"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o={login:1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise((function(e,o){for(var n="css/"+({about:"about",login:"login",settings:"settings"}[t]||t)+"."+{about:"31d6cfe0",login:"42dd0b30",settings:"31d6cfe0"}[t]+".css",r=l.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===n||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],p.parentNode.removeChild(p),o(i)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var o=r[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,o[1](d)}r[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(o,n,function(e){return t[e]}.bind(null,n));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},4360:function(t,e,o){"use strict";var n,a=o("2b0e"),r=o("2f62"),i=o("a18c"),s=(o("59ca"),o("ea7b"),o("66ce"),o("5124"));a["default"].use(r["a"]),Array.prototype.remove=function(){var t,e,o=arguments,n=o.length;while(n&&this.length){t=o[--n];while(-1!==(e=this.indexOf(t)))this.splice(e,1)}return this},e["a"]=n=new r["a"].Store({state:{userProfile:{uid:null},grid:[],users:{},zoomLevels:[{cellSize:"20vh",uSize:"2.5em",uBadge:!0,padding:"p-3",people:!0},{cellSize:"15vh",uSize:"2em",uBadge:!0,padding:"p-2",people:!0},{cellSize:"10vh",uSize:"1.2em",uBadge:!1,padding:"p-1",people:!0},{cellSize:"5vh",people:!1},{cellSize:"2vh",people:!1}],zoom:0},mutations:{increaseZoom(t){0!==t.zoom&&t.zoom--},decreaseZoom(t){4!==t.zoom&&t.zoom++},updateUserLocation(t,e){const o=s["a"].currentUser.uid;if(!o)return;let n;s["d"].child(o).once("value",(function(t){n=t.val().location,n&&s["b"].child(n[1]+"/"+n[0]+"/people/"+o).set(null)})),s["b"].child(e.y+"/"+e.x+"/people/"+o).set({username:s["a"].currentUser.displayName}),s["d"].child(o).update({location:[e.x,e.y]})},setGrid(t,e){t.grid=e},setProfile(t,e){t.userProfile.uid=e.uid},setUsers(t,e){t.users=e}},actions:{moveUserUp(t){const e=t.state.users[t.state.userProfile.uid],o=e.location;t.commit({type:"updateUserLocation",x:o[0],y:o[1]-1})},moveUserDown({state:t,commit:e}){const o=t.users[t.userProfile.uid],n=o.location;e({type:"updateUserLocation",x:n[0],y:n[1]+1})},moveUserLeft({state:t,commit:e}){const o=t.users[t.userProfile.uid],n=o.location;e({type:"updateUserLocation",x:n[0]-1,y:n[1]})},moveUserRight({state:t,commit:e}){const o=t.users[t.userProfile.uid],n=o.location;e({type:"updateUserLocation",x:n[0]+1,y:n[1]})},async fetchUserProfile({commit:t},e,o){await i["a"].push("/")}},modules:{},getters:{userLocation(t){s["d"].child(s["a"].currentUser.uid).once("value",(function(t){return location=(t.val()||{location:null}).location,location}))},zoomInfo(t){return t.zoomLevels[t.zoom]}}}),s["b"].on("value",(function(t){n.commit("setGrid",t.val())})),s["d"].on("value",(function(t){n.commit("setUsers",t.val())})),s["a"].onAuthStateChanged((function(t){if(t){let e;console.log(t.displayName),n.commit("setProfile",t),s["d"].child(t.uid).once("value",(function(t){if(e=(t.val()||{location:null}).location,e)console.log("Using saved location:"+e),n.commit({type:"updateUserLocation",x:e[0],y:e[1]});else{const t=3,e=3;console.log("Placing randomly at"+[t,e]),n.commit({type:"updateUserLocation",x:t,y:e})}}))}else n.commit("setProfile",{uid:null})}))},5124:function(t,e,o){"use strict";o.d(e,"c",(function(){return l})),o.d(e,"a",(function(){return s})),o.d(e,"d",(function(){return c})),o.d(e,"b",(function(){return u}));var n=o("59ca");o("ea7b"),o("66ce");const a={apiKey:"AIzaSyCL3_AgVhmoUf2mBgB-qt3SjKeLwf0J5iY",authDomain:"gunnwebapp.firebaseapp.com",databaseURL:"https://gunnwebapp.firebaseio.com",projectId:"gunnwebapp",storageBucket:"gunnwebapp.appspot.com",messagingSenderId:"175691721563",appId:"1:175691721563:web:a024e47fe806265f06887e",measurementId:"G-QFH27J81KP"},r=n["initializeApp"](a);console.log(r.name);const i=n["database"](),s=n["auth"]();var l=new n["auth"].GoogleAuthProvider;l.addScope("profile"),l.addScope("email");const c=i.ref("/users"),u=(i.ref("/rooms"),i.ref("/grid"))},"56d7":function(t,e,o){"use strict";o.r(e);o("e792"),o("0cdd");var n=o("2b0e"),a=o("5f5b"),r=(o("ab8b"),o("2dd8"),o("115a"));n["default"].use(a["a"]),n["default"].use(r["a"]);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row",attrs:{id:"app"}},[o("div",{staticClass:"col-3  bg-gunn"},[t._m(0),o("div",{staticClass:"nav mx-3 flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[o("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")]),o("router-link",{staticClass:"nav-link",attrs:{to:"/settings"}},[t._v("Settings")]),o("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("About")])],1)]),o("div",{staticClass:"col-9 bg-black p-1",staticStyle:{width:"100%",overflow:"scroll",height:"100vh"}},[o("router-view")],1)])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",{staticClass:"mx-3 text-light my-5"},[o("img",{staticClass:"pr-2 mb-2",attrs:{height:"50rem",src:"https://resources.finalsite.net/images/f_auto,q_auto/v1574549382/pausdorg/qo9sgse4olm17gzfydud/henrygunn-hs.png"}}),t._v("Gunn Campus")])}],l=(o("034f"),o("2877")),c={},u=Object(l["a"])(c,i,s,!1,null,null,null),d=u.exports,p=o("a18c"),f=o("4360"),m=o("5124");o("8aa5");let h;n["default"].config.productionTip=!1,m["a"].onAuthStateChanged(t=>{h||(h=new n["default"]({router:p["a"],store:f["a"],render:t=>t(d)}).$mount("#app"))})},"683a":function(t,e,o){"use strict";var n=o("b648"),a=o.n(n);a.a},"85ec":function(t,e,o){},a18c:function(t,e,o){"use strict";var n=o("2b0e"),a=o("8c4f"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home",staticStyle:{overflow:"scroll","white-space":"nowrap",opacity:"0.7"}},[t._l(t.grid,(function(e){return o("div",{staticClass:"text-nowrap row",staticStyle:{overflow:"visible","white-space":"nowrap","flex-wrap":"nowrap"}},t._l(e,(function(t){return o("div",{staticStyle:{"white-space":"normal",display:"inline-block"}},[o("Cell",{attrs:{people:t.people,variant:t.type}})],1)})),0)})),o("Compass"),o("zoom")],2)},i=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:"bg-"+t.variant+" "+t.$store.getters.zoomInfo.padding,staticStyle:{border:"solid 1vh rgba(0%,0%,0%,0.1)"},style:{height:t.$store.getters.zoomInfo.cellSize,width:t.$store.getters.zoomInfo.cellSize}},[t.$store.getters.zoomInfo.people?o("span",t._l(t.people,(function(e){return o("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{cursor:"pointer"},attrs:{size:t.$store.getters.zoomInfo.uSize,badge:t.$store.getters.zoomInfo.uBadge,"badge-variant":"success",variant:"gunn",title:e.username}},[t._v(t._s(e.username.split(" ").map((function(t){return t.substring(0,1)})).join("")))])})),1):t._e()])},l=[],c={name:"Cell",props:["people","variant"],mounted(){}},u=c,d=o("2877"),p=Object(d["a"])(u,s,l,!1,null,"4cd62164",null),f=p.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.$store.state.userProfile.uid?o("div",{staticClass:"bg-black",staticStyle:{position:"fixed",bottom:"2vh",right:"2vw",width:"10.5rem",height:"10.5rem","border-radius":"50%",opacity:"0.5"}},[o("span",{on:{click:function(e){return t.$store.dispatch("moveUserUp")}}},[o("b-avatar",{staticStyle:{transform:"translateX(4rem) translateY(1rem)"},attrs:{variant:"light"}},[o("b-icon-caret-up-fill")],1)],1),o("span",{on:{click:function(e){return t.$store.dispatch("moveUserDown")}}},[o("b-avatar",{staticStyle:{transform:"translateX(1.6rem) translateY(7rem)"},attrs:{variant:"light"}},[o("b-icon-caret-down-fill")],1)],1),o("span",{on:{click:function(e){return t.$store.dispatch("moveUserLeft")}}},[o("b-avatar",{staticStyle:{transform:"translateX(-4rem) translateY(4rem)"},attrs:{variant:"light"}},[o("b-icon-caret-left-fill")],1)],1),o("span",{on:{click:function(e){return t.$store.dispatch("moveUserRight")}}},[o("b-avatar",{staticStyle:{transform:"translateX(-0.4rem) translateY(4rem)"},attrs:{variant:"light"}},[o("b-icon-caret-right-fill")],1)],1)]):t._e()},h=[],v={name:"compass"},g=v,b=(o("b0cd"),Object(d["a"])(g,m,h,!1,null,"74c51088",null)),y=b.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bg-black",staticStyle:{position:"fixed",top:"3vh",right:"3vw",width:"3rem",height:"6rem","border-radius":"9%",opacity:"0.5"}},[o("div",{staticClass:"button",staticStyle:{width:"100%",height:"50%"},on:{click:function(e){return t.$store.commit("increaseZoom")}}},[o("b-icon-plus",{attrs:{variant:"light",scale:"3","shift-h":"15","shift-v":"-12"}})],1),o("div",{staticClass:"button",staticStyle:{width:"100%",height:"50%"},on:{click:function(e){return t.$store.commit("decreaseZoom")}}},[o("b-icon-dash",{attrs:{variant:"light",scale:"3","shift-h":"15","shift-v":"-12"}})],1)])},S=[],_={name:"zoom"},C=_,z=(o("683a"),Object(d["a"])(C,w,S,!1,null,"4aff0b65",null)),x=z.exports,U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bg-black",staticStyle:{opacity:"0.5",position:"fixed",bottom:"2vh",left:"27%","border-radius":"10%",height:"14rem",width:"20rem"}},[o("b-badge",{staticClass:"p-1",staticStyle:{position:"absolute"},style:{top:t.$store.state.users[t.$store.state.userProfile.uid].location[0]/70,left:t.$store.state.users[t.$store.state.userProfile.uid].location[1]/100},attrs:{variant:"success"}},[t._v(":D")])],1)},P=[],k=o("4360"),$={name:"MiniMap",computed:{uloc:()=>k["a"].state.users[k["a"].state.userProfile.uid].location}},L=$,j=Object(d["a"])(L,U,P,!1,null,"aefa562a",null),O=j.exports,A={name:"Home",components:{MiniMap:O,Zoom:x,Compass:y,Cell:f},computed:{grid(){return this.$store.state.grid}}},E=A,I=Object(d["a"])(E,r,i,!1,null,null,null),B=I.exports,M=o("5124");n["default"].use(a["a"]);const N=[{path:"/",name:"Home",component:B},{path:"/settings",name:"Settings",meta:{requiresAuth:!0},component:function(){return o.e("settings").then(o.bind(null,"26d3"))}},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/login",name:"Login",component:function(){return o.e("login").then(o.bind(null,"a55b"))}}],T=new a["a"]({mode:"history",base:"/",routes:N});T.beforeEach((t,e,o)=>{const n=t.matched.some(t=>t.meta.requiresAuth);n&&!M["a"].currentUser?o("/login"):o()});e["a"]=T},a190:function(t,e,o){},b0cd:function(t,e,o){"use strict";var n=o("a190"),a=o.n(n);a.a},b648:function(t,e,o){}});
//# sourceMappingURL=app.02f1d415.js.map